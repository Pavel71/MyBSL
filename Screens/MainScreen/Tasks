


// Tasks MainScreen


1. в newCompansation Screen  в продуктах добавить кнопочку округлить дозировку! Будет делатся округление до 0.5 или 1.0 До целого значения! Это будет удобно! Но это не так просто как кажется!


8. Разобратся с ARC - обязателно проверить все на утечку памяти!


10. Нужно вычетать из инсулина в наличии тотал инсулин

 // как происходит обучение модели я буду собирать несколько дней и чекать по ним случаии коррекции Повышенного сахара и случаи коррекции углвеодов
 // мне надо будет формировать список углвеодов и список дозировок инсулина
 // Обучатся на этом но сюда не должны поподавть CompansationObj  с плохой компенсацикей
 
 
 
 
 
 // Вообще все шо то через жопу! По идеи дни должны содержать списки id - и по этим id  я бы доставал объекты и передавал их а обновлял через реалм update! и мозг не канапатил c этими list!
 // Да и мне было бы проще собирать все compObj -
 //просто достань их и все! А в день я записываю только Id и все!
 // Вообщем нужно переписать модель работы с базой данных - думаю что это будет не сложно сделать
 
 
 
 // Итак у меня получается что создаются отдельные объекты в NewScreenCompObj
 в New Screen я буду создавать и записывать в базу данных! Потом отрпавлять 2 id - 1 по сахару и второй по compObj - эти id я буду добавлять в лист Дня и перезапускать получение новых listSugar и listCompObj
 
 // И идет работа в MainScreen!
 
 

 
 4. Теперь нужно поработать над логикой переобучения!
 
  итак у меня 2 позадачи
  
  
  0. Нужно решить когда запускать процесс обновления весов! Можно это делать при каждом новом обеде! Хоть это и не особо имеет смысл!
     Таким образом как только мы нажали на кнопочку сохранить! мы запускаем процесс получение обновленных весов!
  
  1. Собирать хорошо компенсированные обеды и брать по ним таргеты и траины
  2. Брать плохокомпенсированные обеды и брать по ним таргеты и траины
      
      Здесь нужно расписать формулу как я буду корректировать в зависимости от величины сахара дозировку инсулина!
      Мне нужно высчитать сколько в среднем на углевод нужно инсулина!
      Дальше смотреть на какой диапозон сахара я ошибся
      И либо добавлять инсулина к каждому продукту в пропорции либо понижать дозировку
      
      Все это пересчитывать и записывать в обеде другим значением таким как правельная дозировка
      И вот эти правельные дозировки уже брать и применять в расчетах!
      
      Причем наджо подумать над оптимизацией! чтобы не лапатить весь массив заново а только брать уже обработанные обеды и работать только с новыми обедами!
 
 
 
 

    


