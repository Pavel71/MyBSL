


0. Есче есть такая идея подключить push когда новые данные поступают!

 // Завтра буду вешать потехонечку листнеры на дни и тогдалее посмотрю как это будет работать!
 
 
 // Итак работу с продуктами я отладил! пока что буду работать именно так!
 // Теперь нужно накинуть листнеры на все остальные realm данные!
 
 // Meal будет сделать не сложно
 
 // пуши на добавление с сервера тоже сделать не трудно
 
 // Что касается дня то тут надо подумать!
 // возможно проще будет повесить листнер на обновление дня - полуыать данные обращатся опять  к базе данных - хотя если бы они сразу были записанны в день было бы проще
 // получим id -нужно будет бежать в базу данных полуяать обхекты
 // и добавлять их вреалм! Если удаление то просто можно будет настроить удалнеи по отсутсвующим id кам
 // вообщем с днем не все так просто!
 + когда мы только логинимся мы сразу подгружаем данные с листенра
 

1. Нужно установить 3 листнера
   1 - На коллекцию с днями
   
   4 - Нужно вешать листнер на UserDefaults так как там генерируются также данные!
   
  1.1 Теперь самое тяжелое- Изменение в дне также исзменяются предыдущие обхекты! Это надо учитывать! Чтобы было все четкое надо забирать преддущий объект и текущий в случае обновление или добавления! или Вообщем это большая работа которую надо будет как следует тестировать!


4. Считывание данных пользователя из Firebase в Realm
  
  4.1 Кейс при котором пользователь залогинился на другом устройстве под своим аккаунтом!
      Мы запрашиваем все данные скачиваем их парсим и добавляем в Реалм! Который пуст
      Например если он не пуст то нам нужно все удалить из реалма и записать то что скачали
      
  4.2 Кейс 2 когда 2 июзера ведут 1 аккаунт! - Что можно сделать это навесить листнеров на все что есть в реалме!
      Или делигировать обновление по запросу пользователя путем нажатия на кнопку или сделать пулл рефреш
  4.3 Тогда нужно запускать алогритм сверки и проверять чего не хватает в реалме из fireBase- Возможно нужно использовать 1 метод загрузки в реалм а он сам обновит если таковой имеется!




